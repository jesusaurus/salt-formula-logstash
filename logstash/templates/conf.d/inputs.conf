{% set ssl_enabled = salt['pillar.get']('logstash:ssl_enabled', False) -%}
input {
  tcp {
    host => "0.0.0.0"
    port => "5959"
    codec => json { }

{%- if ssl_enabled %}
    ssl_enable => true
    ssl_verify => false
    ssl_cacert => '/etc/logstash/hpcs_ca.pem'
    ssl_cert => '/etc/logstash/logstash.crt'
    ssl_key => '/etc/logstash/logstash.key'
{%- endif %}
  }
}
